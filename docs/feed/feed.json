{
	"version": "https://jsonfeed.org/version/1.1",
	"title": "stinky.blog",
	"language": "en",
	"home_page_url": "https://stinky.blog/",
	"feed_url": "https://stinky.blog/feed/feed.json",
	"description": "brain of brian. notes about fun things i&#39;m learning",
	"author": {
		"name": "Brian",
		"url": "https://stinky.blog/about-me/"
	},
	"items": [
		{
			"id": "https://stinky.blog/blog/adios-wordpress/",
			"url": "https://stinky.blog/blog/adios-wordpress/",
			"title": "Adios Wordpress?",
			"content_html": "<p>Welcome to my first post on a static site.  Wordpress has been super cool, but I really wanted to try out something simpler and easier to deploy from the commandline.</p>\n<p>It has been a blast hosting the blog on the VPS and learning the ins-and-outs of securing the server, managing the certificates, and general wordpress admin stuff.  Wordpress plugins have been very awesome and easy to use, even the free ones.  However, it's just a ton of functionality that I don't really need.</p>\n<p>I watched a couple of youtube videos about hosting static sites on github pages with jekyll and other static site generators.  That led me to trying out a few of them before landing on this one, eleventy.</p>\n<p>To get this running, I created a github repository: username.github.io</p>\n<p>Then, I cloned the repo to my home folder</p>\n<pre class=\"language-bash\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/brianm88/brianm88.github.io</code></pre>\n<p>I used this eleventy template: <a href=\"https://github.com/11ty/eleventy-base-blog\">eleventy-base-blog</a></p>\n<p>Cloned those files to my github folder and ran eleventy:</p>\n<pre class=\"language-bash\" tabindex=\"0\"><code class=\"language-bash\">npx @11ty/eleventy <span class=\"token parameter variable\">--serve</span></code></pre>\n<p>There I had a working skeleton!  But, I wanted a search bar.  So I found a solution with pagefind: <a href=\"https://pagefind.app/\">pagefind</a></p>\n<p>Pretty much just need to insert this line into one of the pages to get it working.  In my case, inserted it in to /my-repo/_includes/layouts/home.njk</p>\n<pre class=\"language-http\" tabindex=\"0\"><code class=\"language-http\">\n\n&lt;link href=\"/pagefind/pagefind-ui.css\" rel=\"stylesheet\">\n&lt;script src=\"/pagefind/pagefind-ui.js\">&lt;/script>\n&lt;div id=\"search\">&lt;/div>\n&lt;script>\n    window.addEventListener('DOMContentLoaded', (event) => {\n        new PagefindUI({ element: \"#search\", showSubResults: true });\n    });\n&lt;/script></code></pre>\n<p>Then, you need to run the indexer to let it build an index of your site files.</p>\n<pre class=\"language-bash\" tabindex=\"0\"><code class=\"language-bash\">npx <span class=\"token parameter variable\">-y</span> pagefind <span class=\"token parameter variable\">--site</span> _site</code></pre>\n<p>Then I had some weird issues getting github pages to let me select the right folder.  So, I created a /docs/ folder like they suggest, and I just rsynced the stuff into it.  I wrote this into a script so I can execute all this in one command.  The script also takes a commit comment and pushes to github:</p>\n<pre class=\"language-bash\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token builtin class-name\">set</span> <span class=\"token parameter variable\">-e</span>\n\n<span class=\"token comment\"># 11ty build</span>\nnpx @11ty/eleventy\n\n<span class=\"token comment\"># pagefind build index</span>\nnpx <span class=\"token parameter variable\">-y</span> pagefind <span class=\"token parameter variable\">--site</span> _site/\n\n<span class=\"token comment\"># rsync to gitpages folder</span>\n<span class=\"token function\">rsync</span> <span class=\"token parameter variable\">-arui</span> _site/ docs\n\n<span class=\"token comment\"># Prompt for commit message</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Enter commit message:\"</span>\n<span class=\"token builtin class-name\">read</span> commit_message\n\n<span class=\"token comment\"># git operations</span>\n<span class=\"token function\">git</span> <span class=\"token function\">add</span> docs\n<span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"<span class=\"token variable\">$commit_message</span>\"</span>\n<span class=\"token function\">git</span> push <span class=\"token parameter variable\">-u</span> origin main</code></pre>\n",
			"date_published": "2024-03-03T00:00:00Z"
		}
		
	]
}
